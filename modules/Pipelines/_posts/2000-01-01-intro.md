---
title: Workflows
---

This minimal workshop can be summarised as a small pipeline: 

> filter_reads -> Megahit assembly -> geNomad -> checkV

This page has only the ambition to show how Nextflow 
has become an important workflow manager.

Nextflow is a workflow language and a workflow manager,
meaning that it will orchestrate the different job, parallelising them
when possible.
It will submit jobs to your HPC cluster or to the cloud, or simply use the CPUs 
of your local machine.

## Installing nextflow

```bash
conda activate base

mamba install -c bioconda -c conda-forge nextflow
```

## Running the EBAME pipeline

Let's look this command

```bash
nextflow run telatin/nfvir -r main \
   --reads $VIROME/ \
   --outdir nfout -profile ebame
```

Without installing anything this command will:

1. Get the pipeline [telatin/nfvir](https://github.com/telatin/nfvir) (a very simple example) and use the latest version (`-r main`)
2. Will select a configuration called EBAME (that will in this case used Docker as executor and point to the databases are they are), with `-profile ebame`
3. Will check the reads in $VIROME, pairing them (`--reads $VIROME`)
4. Will run:
   1. fastp
   2. megahit
   3. geNomad
   4. checkV
   5. ...
5. Save the output in nfout (`--outdir nfout`)

If everything goes well, nextflow will start orchestrating the jobs:

![nf]({{ site.baseurl }}{% link img/nf_small.png %})

